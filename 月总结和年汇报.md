---
title:  月总结和年汇报
date: 2018-12-25T01:30:42.062Z
tags: ["code","it"]
series: ["blog"]
categories: ["code"]
draft: true
description:
---


Facebook采集
采集方式 优点，缺点，成本，星际
购买数据
定制服务
第三方接口
官方授权接口开发
使用网页爬虫采集
对app进行hook使用app接口采集

创新点与突破
token生命周期全流程自动化，做到app自动登录，token劫持，失效自动刷新。

尝试过的手段
app进行逆行工程研，究数据采集相关的内部通信接口和相关参数。
对app进行破解，注入相关代码，劫持sqlite，sp，
对facebook的app与后端通信的协议进行抓包分析和研究。
劫持app对于java sdk相关数据的底层操作。

支持的量级，
3台外网服务器,日均采集量
总量
friends：2144万
post：1585万
profile：175万
comments：22万

group采集
profile、comments大规模测试

开发一套完整的采集框架
实现采集速率的自动匹配与负载均衡
实现分布式采集
支持线性扩展与缩减
对错误数据进行回踩
热点数据跟进与回踩




目前支持的量级，
服务器配置，扩展服务器支持的量级


后续需要解决的问题

已经完成的工作
1、框架从单机节点升级到集群节点再到分布式节点。
2、开发完成后已经稳定运行1个多月，无故障。
3、对各项采集流程进行了最大化的优化，使得3台服务器，日均采集新闻25万条，最高支持日均50万条，目前采集总量为条。
4、当新闻出现爆炸性增长时，支持线性无停机水平扩展，扩展性能约为：10万/台。


创新点和突破点
1、独创url特征值算法对目标url进行分类。
2、使用Cuckoo过滤算法改造redis，极大的提升存储效率和去重验证效率。

现在达到的量级
扩展服务器可达量级
后期的工作
使用机器学习方式对url的分类(新闻，非新闻、广告)
修改训练模型和数据，提高对内容提取的准确性。

打新相关功能开发
vip卡券功能
新股数据抓取
后台框架迁移到spring boot
mysql数据迁移到高可用环境
申购宝相关接口
后台管理页面开发
沃牛1号接口
补充相关开发文档
交接工作对接

新闻资讯采集
基于scrapy框架搭建新闻采集框架
使用dragnet提取新闻正文内容，并与其他框架进行对比。
基于dom树完成url相似度算法。
基于特征值完成url相似算法。
使用中文数据训练dragnet。
在集群服务器中搭建mongo、redis、storm、kafka、scrapy等。
使用Cuckoo Filter过滤算法测试url去重效果。
参考redis-scrapy开发分布式抓取策略。


Facebook抓取
研究深圳团队采集框架，阅读源码
改框架，增加抓取friends接口
对Facebook的Android app进行逆行工程研，究数据采集相关的内部通信接口和相关参数。
对app进行破解，注入相关代码，劫持数据库、缓存、http/https网络相关请求。
对facebook的app与后端通信的协议进行抓包分析和研究。
劫持app对于java sdk相关数据的底层操作，成功获取永久token。

开发xposed的Android模块，对Facebook的安卓app进行activity启动、button点击、sp数据存储，sqlite数据库、http请求、https请求劫持。


融资融券采集
去掉tushare接口
修改融资融券参数动态变化的问题，并刷新2010年至今的历史数据。


感悟
小伙伴们
较高的职业素养
积极性
学习能力
对于从0到1。

18年以来随着公司的发展自己也成长不少，从app后台组长到数据采集组长，很感激领导与各位同事对我的支持，让我学到的东西很多。
很自豪能从无到有开发一个新项目，学习新的东西，最后做成 了。团队里小伙伴们给了我很大的信心，他们学习能力强，积极主动，表现了较高的职业素养。
